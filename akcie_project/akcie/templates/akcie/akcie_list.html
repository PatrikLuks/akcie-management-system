{% extends 'akcie/base.html' %}
{% block content %}
<h1>Seznam akcií</h1>

<ul class="akcie-list">
    {% for akcie in akcie %}
        <li class="akcie-item">
            <strong>{{ akcie.nazev }}</strong>
            <span>Počet: {{ akcie.pocet_ks }}</span>
            <span>Hodnota: {{ akcie.hodnota }} Kč</span>
            <span>Zisk/Ztráta: {{ akcie.zisk_ztrata }} Kč</span>
            <span>Nákupní cena za kus: {{ akcie.cena_za_kus }} Kč</span>
            <span>Datum nákupu: {{ akcie.datum }}</span>
            <span>Aktuální cena za kus: 
                {% if akcie.ticker %}
                    {% with ticker=akcie.ticker %}
                        {% include 'akcie/partials/aktualni_cena.html' %}
                    {% endwith %}
                {% else %}
                    (zobrazena v poli Hodnota)
                {% endif %}
            </span>
            <a href="/akcie/{{ akcie.id }}/" class="details-link">Podrobnosti</a>
        </li>
    {% endfor %}
</ul>
<a href="/akcie/create/">Přidat novou akcii</a>
<a href="/akcie/export/">Exportovat akcie do CSV</a>
<a href="/akcie/import/">Importovat akcie z CSV</a>
<a href="{% url 'export_excel' %}" class="button">Exportovat do Excelu</a>

<style>
.akcie-list {
    padding: 10px;
    background-color: #f9f9f9;
    border-radius: 5px;
}
.akcie-item {
    margin: 5px 0;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    display: flex;
    flex-direction: column;
}
.details-link {
    color: #007bff;
    text-decoration: none;
    margin-top: 5px;
}
.details-link:hover {
    text-decoration: underline;
}
</style>
{% endblock %}
